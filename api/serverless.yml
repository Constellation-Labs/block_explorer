service: api

provider:
  name: aws
  runtime: nodejs12.x
  region: us-west-1
  environment:
    ELASTIC_SEARCH: 'http://localhost:9200'
    SLS_DEBUG: '*'

functions:
  snapshots:
    handler: handler.snapshots
    events:
      - http:
        path: snapshots/{term}
        method: GET
        parameters:
          paths:
            term: true
  checkpoints:
    handler: handler.checkpoints
    events:
      - http: GET checkpoints
  transactions:
    handler: handler.transactions
    events:
      - http: GET transactions

plugins:
  - serverless-plugin-typescript